<h1>Add New Book Here!</h1>

<form action="/books/upsert" role="form" method="post">
{{#if book}}
    <div>
      <h2>{{book.bookName}} {{book.publishingYear}}</h2>
      <input type="hidden" name="id" value="{{bookIndex}}">
    </div>
  {{/if}}
<div>
    <label for="book_name">Book Name</label>
    <input type="text" id="bookName" name="bookName" {{#if book}}value="{{book.bookName}}"{{/if}}>
  </div>
  <br>
  <div>
    <label for="publishing_year">Year Published</label>
    <input type="text" id="publishing_year" name="publishingYear"{{#if book}}value="{{book.publishingYear}}"{{/if}}>
  </div>
  <br>
  <div>
<label for="authorId">Author</label>
    <select name="authorId" id="authorId">
      <option disabled selected value>-- select Author --</option>
      {{#each authors}}
        <option value="{{@index}}" {{#if (and @root.book (eq @root.book.authorId @index))}}selected{{/if}}>
          {{this.firstName}} {{this.lastName}}
        </option>
      {{/each}}
    </select>

    <label for="genreId">Genre</label>
    <select name="genreId" id="genreId">
      <option disabled selected value>-- select Genre --</option>
      {{#each genres}}
        <option value="{{@index}}" {{#if (and @root.genre (eq @root.book.genreId @index))}}selected{{/if}}>
          {{this.genreName}} 
        </option>
      {{/each}}
    </select>

  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>

